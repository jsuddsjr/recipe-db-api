//- Navbar mixins converted to Bootstrap 5 by John Sudds

//- The brand string is interpolated as-is, so you can pass markup.
//- The attributes collection can specify id, href, style, and bp (breakpoint) values.
//- Use +nav_item mixin to specify additional menu items.
mixin navbar(brand)
    - var id = attributes.id || 'navbarCollapse'
    - var href = attributes.href || '/'
    - var style = attributes.style || 'light'
    - var bp = attributes.bp || 'lg'
    nav.navbar( class=[`navbar-expand-${bp}`, `navbar-${style}`, `bg-${style}`, attributes.class] )
        .container
            a.navbar-brand(href=href)!= brand
            button.navbar-toggler(type='button' data-bs-toggle='collapse' data-bs-target=`#${id}`, aria-controls=id, aria-expanded='false' aria-label='Toggle navigation')
                span.navbar-toggler-icon
            .collapse.navbar-collapse(id=id)
                ul.navbar-nav.me-auto.mb-2( class=[`mb-${bp}-0`] )
                    block

//- Example: +nav_item("/user", active.user)
//-             +icon('person-circle') Profile
mixin nav_item(href, active=false)
    if !active
        li.nav-item: a.nav-link( href=href ): block
    else
        li.nav-item: a.nav-link.active( href=href ): block

mixin nav_divider
    li: hr.dropdown-divider

//- mixin nav_item_dropdown(href, active)
//-     li(class=ddstyle)
//-         a.dropdown-toggle( href=href, data-bs-toggle='dropdown' role='button' aria-expanded='false' )= attributes.label
//-             span.caret
//-         ul.dropdown-menu( role='menu' )
//-             block


